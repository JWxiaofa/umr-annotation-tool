{% extends "layout.html" %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/default2.css') }}">
{#    <link rel="stylesheet" type="text/css" href="../static/styles/default.css" media="handheld">#}
{#    <link rel="stylesheet" type="text/css" href="../static/styles/default.css" media="only screen and (max-device-width:480px)">#}
{#    <script src="../static/scripts/docLevelJquery.js"></script>#}
    <script src="../static/scripts/sentLevelJquery.js"></script>
    <script src="../static/scripts/sentLevel.js" type="text/javascript"></script>
    <script src="../static/scripts/utils.js" type="text/javascript"></script>
    <script src="../static/scripts/BlobBuilder.js"></script>
    <script src="../static/scripts/FileSaver.js"></script>

    <script src="../static/scripts/javascript-lemmatizer/bower_components/underscore/underscore.js"></script>
    <script src="../static/scripts/javascript-lemmatizer/js/lemmatizer.js"></script>
{% endblock head %}

{% block content %}
    <div id="info">
        <script type="text/javascript">
            initializeLexicon(`{{ frames_dict }}`, `{{ citation_dict }}`);
            lexicon("{{ doc_id }}");
        </script>
        <table>
            <tr>
                <th class='text-muted'>Current User:</th>
                <th id="username">{{ current_user.username }}</th>
                <th class='text-muted'>User ID:</th>
                <th id="user_id">{{ current_user.id }}</th>
            </tr>
            <tr>
                <th class='text-muted'>File Name:</th>
                <th id="filename" style="display:inline">{{ filename }}</th>
                <th class='text-muted'>File Language:</th>
                <th id="lang" style="display:inline">{{ lang }}</th>
            </tr>
                <tr>
                <th class='text-muted'>Doc ID in database:</th>
                <th id="doc_id" style="display:inline">{{ doc_id }}</th>
                <th class='text-muted'>File format:</th>
                <th id="file_format" style="display:inline">{{ file_format }}</th>
            </tr>
        </table>
    </div>
    <hr>

    <div class="content-section" id="similar_word_list" style="height: auto; overflow-y: scroll; max-height: 250px;">
        Below is a list of suggested words sharing same lemma with the selected word
        <legend class="border-bottom mb-4"> <div id="selected_word"></div> </legend>
        <ul class="list-group" id="simWordList" >
        </ul>
    </div>

{% endblock content %}

{% block content2 %}


    <form method="post" enctype="multipart/form-data">
        {{ lexicon_item_form.hidden_tag() }}
        <fieldset class="form-group">
            <legend class="border-bottom mb-4">Add word to lexicon</legend>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                  {{ lexicon_item_form.inflected_form.label}}{{ lexicon_item_form.inflected_form}}<br/>
                </div>

                <div class="input-group-prepend">
                    {{ lexicon_item_form.lemma.label }}{{ lexicon_item_form.lemma }}<br/>
                </div>
                <div class="input-group-prepend">
                    {{ lexicon_item_form.root.label }}{{ lexicon_item_form.root }}<br/>
                </div>
                <div class="input-group-prepend">
                    {{ lexicon_item_form.pos.label }}{{ lexicon_item_form.pos }}<br/>
                </div>
                <div class="input-group-prepend">
                    {{ lexicon_item_form.sense_number.label }}{{ lexicon_item_form.sense_number }}<br/>
                </div>
                <div class="input-group-prepend">
                    {{ lexicon_item_form.sense_gloss.label }}{{ lexicon_item_form.sense_gloss }}<br/>
                </div>
                <div class="input-group-prepend">
                    {{ lexicon_item_form.sense_args.label }}{{ lexicon_item_form.sense_args }}<br/>
                </div>
                <div class="input-group-prepend">
                    {{ lexicon_item_form.sense_coding_frames.label }}{{ lexicon_item_form.sense_coding_frames }}
                </div>

            </div>
        </fieldset>

        <div class="input-group-append">
            {{ lexicon_item_form.submit(class="btn btn-outline-info", id="btnSubmit") }}
        </div>
    </form>

    <script type="text/javascript">
        document.getElementById("selected_word").innerHTML = localStorage["selected_word"];
    </script>
    <br>
    <br>

    <form method="post" enctype="multipart/form-data">
        {{ look_up_form.hidden_tag() }}
        <fieldset class="form-group">
            <legend class="border-bottom mb-4">Look up Lexicon Item </legend>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                  {{ look_up_form.inflected_form.label}}{{ look_up_form.inflected_form}}<br/>
                </div>
            </div>
        </fieldset>

        <div class="input-group-append">
            {{ look_up_form.submit(class="btn btn-outline-info", id="btnSubmit") }}
        </div>
    </form>

    <pre style="white-space:pre-line;" id="lookUpResult"></pre>

    <hr>
    <button onclick="listDict(`showAll` )">Show Lexicon</button>
    <div id="showAll"></div>
    <a class="btn btn-outline-secondary" title="click to do sent-level annotation" href="{{ url_for('main.annotate', doc_id=doc_id, snt_id=snt_id) }}">sent-level-annot</a>


    <script>
    prettyPrintJson(`lookUpResult`,`{{ lexicon_item }}`);
    </script>

{% endblock content2 %}





