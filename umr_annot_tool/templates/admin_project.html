{% extends "layout.html" %}

{% block head %}
    <script src="../static/scripts/account.js" type="text/javascript"></script>
{% endblock head %}

{% block content %}

    <div class="content-section">
        <legend class="border-bottom mb-4">Documents in {{ project_name }}</legend>
        <ul class="list-group" id="projectDocs">
            {% for projectDoc in projectDocs %}
                <li class="list-group-item d-flex justify-content-between align-items-center" id="projectDoc-{{ projectDoc.id }}">
                    <a title="{{ projectDoc.content }}" href="{{ url_for('main.sentlevel', doc_id=projectDoc.id)}}">
                        {{projectDoc.filename}}
                    </a>
                    <span class="badge">
                        <span class="btn btn-xs btn-default" onclick="removeDocFromProj({{ projectDoc.id }}, `{{ project_id }}`); event.stopPropagation();">
                            -
                        </span>
                    </span>
                </li>
            {% endfor %}
        </ul>
    </div>

    <div class="content-section">
        <legend class="border-bottom mb-4">Other Documents</legend>
        <ul class="list-group" id="otherDocs">
            {% for otherDoc in otherDocs %}
                <li class="list-group-item d-flex justify-content-between align-items-center" id="otherDoc-{{ otherDoc.id }}">
                    <a title="{{ otherDoc.content }}" href="{{ url_for('main.sentlevel', doc_id=otherDoc.id)}}">
                        {{otherDoc.filename}}
                    </a>
                    <span class="badge">
                        <span class="btn btn-xs btn-default" onclick="addDocToProj({{ otherDoc.id }}, `{{ project_id }}`); event.stopPropagation();">
                            +
                        </span>
                    </span>
                </li>
            {% endfor %}
        </ul>
    </div>

    <div class="content-section">
        <legend class="border-bottom mb-4">{{ project_name }} admin and members</legend>
        <input type="text" id="new_member_name">
        <button onclick="addNewMember({{ project_id }})">add new member</button>
        <ul class="list-group" id="all-members">
            <li class="list-group-item d-flex justify-content-between align-items-center" id="projectMember-{{ project_admin.id }}">
                <a title="click on member to search their annotation" href="{{ url_for('users.search', project_id=project_id, member_id=project_admin.id) }}">
                    {{project_admin.username}} (admin)
                </a>
                <span class="badge">
                    <span class="btn btn-xs btn-default" onclick="changeAdmin(); event.stopPropagation();">
                        change admin
                    </span>
                </span>
            </li>
            {% for project_member in project_members %}
                <li class="list-group-item d-flex justify-content-between align-items-center" id="projectMember-{{ project_member.id }}">
                    <a title="click on member to search their annotation" href="{{ url_for('users.search', project_id=project_id, member_id=project_member.id) }}">
                        {{project_member.username}}(member)
                    </a>
                    <span class="badge">
                        <span class="btn btn-xs btn-default" onclick="rmMember({{ project_member.id }}, {{ project_id }}); event.stopPropagation();">
                            x
                        </span>
                    </span>
                </li>
            {% endfor %}
        </ul>
    </div>

{% endblock content%}


